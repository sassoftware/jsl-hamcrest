name: Build and Deploy Docs
on:
  push:
    branches:    
      - master 
jobs:
  build-and-deploy-docs:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@master
    - name: wget ND
      uses: wei/wget@v1
      with:
        args: https://www.naturaldocs.org/download/natural_docs/2.0.2/Natural_Docs_2.0.2.zip -O ND.zip
    - name: Unzip ND
      run: unzip ND.zip -d ./
    - name: Build Docs
      run: mono "./Natural Docs/NaturalDocs.exe" Docs
    - name: Deploy to GitHub Pages
      uses: JamesIves/github-pages-deploy-action@releases/v2
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        BASE_BRANCH: master # The branch the action should deploy from.
        BRANCH: gh-pages # The branch the action should deploy to.
        FOLDER: Docs/_html # The folder the action should deploy.
